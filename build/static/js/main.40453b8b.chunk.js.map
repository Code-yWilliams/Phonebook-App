{"version":3,"sources":["services/contacts.js","services/login.js","components/Contact.js","components/ContactDisplay.js","components/ErrorDisplay.js","components/LoginForm.js","components/ContactForm.js","components/Togglable.js","components/LoginInfo.js","App.js","reportWebVitals.js","index.js"],"names":["baseURL","token","contacts","getAll","axios","get","then","res","data","create","newContact","config","headers","Authorization","post","update","id","put","concat","remove","delete","setToken","newToken","services_login","login","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","response","wrap","_context","prev","next","sent","abrupt","stop","_x","apply","this","arguments","Contact","person","setPersons","allPersons","setError","react_default","a","createElement","className","firstName","lastName","phoneNumber","onClick","e","window","confirm","contactsService","filter","p","catch","err","setTimeout","bind","ContactDisplay","personsToShow","map","components_Contact","key","ErrorDisplay","error","style","color","name","message","LoginForm","handleLogin","handleUsernameInput","handlePasswordInput","username","password","Fragment","onSubmit","type","value","onChange","ContactForm","handleSubmit","handleFirstNameInput","handleLastNameInput","handlePhoneNumberInput","newFirstName","newLastName","newPhoneNumber","Togglable","buttonLabel","children","_useState","useState","_useState2","slicedToArray","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","LoginInfo","user","handleLogout","App","persons","_useState3","_useState4","setNewFirstName","_useState5","_useState6","setNewLastName","_useState7","_useState8","setNewPhoneNumber","_useState9","_useState10","filterBy","setFilterBy","_useState11","_useState12","_useState13","_useState14","setUsername","_useState15","_useState16","setPassword","_useState17","_useState18","loginVisible","setLoginVisible","_useState19","_useState20","setUser","useEffect","loggedInUserJSON","localStorage","getItem","JSON","parse","toLowerCase","includes","toLocaleLowerCase","App_regeneratorRuntime","_user2","preventDefault","loginService","setItem","stringify","t0","components_ErrorDisplay","components_Togglable","components_LoginForm","target","components_LoginInfo","removeItem","components_ContactForm","event","newPerson","some","alreadyExists","alert","trim","query","components_ContactDisplay","reportWebVitals","onPerfEntry","Function","__webpack_require__","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.40453b8b.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseURL = '/api/contacts';\n\nlet token = null;\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n}\n\nconst getAll = () => {\n  return axios.get(baseURL)\n              .then(res => res.data);\n}\n\nconst create = (newContact) => {\n  const config = { \n    headers: { Authorization: token }\n  }\n\n  return axios.post(baseURL, newContact, config)\n              .then(res => res.data);\n}\n\nconst update = (id, newContact) => {\n  return axios.put(`${baseURL}/${id}`, newContact)\n              .then(res => res.data);\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseURL}/${id}`)\n              .then(res => res.data);\n}\n\nexport default { getAll, create, update, remove, setToken };","import axios from 'axios';\nconst baseUrl = '/api/login';\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n}\n\nexport default { login }","import React from 'react';\nimport contactsService from '../services/contacts'\n\nconst Contact = ({ person, setPersons, allPersons, setError }) => {\n  const deleteHandler = (e) => {\n    if (!window.confirm(`Are you sure you want to delete ${person.firstName} ${person.lastName} from your contacts?`)) return;\n    contactsService.remove(person.id)\n                   .then(() => {\n                    setPersons(allPersons.filter(p => p.id !== person.id));\n                   })\n                   .catch(err => {\n                    setError(err);\n                    setTimeout(setError.bind(null, null), 4000);\n                  });\n  }\n\n  const updateHandler = (e) => {\n    \n  }\n\n  return (\n    <div className='contact'>\n      <h3>{person.firstName}{'\\u00a0'}{person.lastName}: {person.phoneNumber}</h3>\n      <button onClick={deleteHandler}>Delete</button>\n      <button onClick={updateHandler}>Update</button>\n    </div>\n  );\n}\n\nexport default Contact","import React from 'react';\nimport Contact from './Contact.js';\n\nconst ContactDisplay = ({ personsToShow, allPersons, setPersons, setError }) => {\n  return (\n    <div className='contact_display'>\n      <h2>List:</h2>\n      {personsToShow.map(person => \n        <Contact key={person.firstName} person={person} setPersons={setPersons} allPersons={allPersons} setError={setError}></Contact>\n      )}\n    </div>\n  );\n}\n\nexport default ContactDisplay","import React from 'react';\n\nconst ErrorDisplay = ({ error }) => {\n  if (error === null) return;\n\n  return (\n    <p style={{ color: 'red' }}>{`${error.name}: ${error.message}`}</p>\n  )\n}\n\nexport default ErrorDisplay;","import React from 'react';\n\nconst LoginForm = ({ handleLogin, handleUsernameInput, handlePasswordInput, username, password }) => {\n  return (\n    <>\n      <form onSubmit={handleLogin}>\n        <div>\n          Username\n          <input type='text' value={username} name='Username' onChange={handleUsernameInput} />\n        </div>\n        <div>\n          Password\n          <input type='text' value={password} name='Password' onChange={handlePasswordInput} />\n        </div>\n        <button type='submit'>Submit</button>\n      </form>\n    </>\n  )\n}\n\nexport default LoginForm;","import React from 'react';\n\nconst ContactForm = ({ handleSubmit, handleFirstNameInput, handleLastNameInput, handlePhoneNumberInput, newFirstName, newLastName, newPhoneNumber }) => {\n  return (\n    <>\n      <h2>New Contact</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          First Name: <input id='firstNameInput' type='text' onChange={handleFirstNameInput} value={newFirstName}/>\n        </div>\n        <div>\n          Last Name: <input id='lastNameInput' type='text' onChange={handleLastNameInput} value={newLastName}/>\n        </div>\n        <div>\n          Phone Number: <input id='phoneNumberInput' type='text' onChange={handlePhoneNumberInput} value={newPhoneNumber}/>\n        </div>\n        <div>\n          <button type='submit'>Submit</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default ContactForm","import React from 'react';\nimport { useState } from 'react';\n\nconst Togglable = ({ buttonLabel, children }) => {\n  const [visible, setVisible] = useState(false);\n\n  const hideWhenVisible = { display: visible ? 'none' : '' };\n  const showWhenVisible = { display: visible ? '' : 'none' };\n\n  const toggleVisibility = () => {\n    setVisible(!visible);\n  }\n\n  return (\n  <>\n    <div style={hideWhenVisible}>\n      <button onClick={toggleVisibility}>{buttonLabel}</button>\n    </div>\n    <div style={showWhenVisible}>\n      {children}\n      <button onClick={toggleVisibility}>Cancel</button>\n    </div>\n  </>\n  )\n}\n\nexport default Togglable","import React from 'react';\n\nconst LoginInfo = ({ user, handleLogout }) => {\n  return (\n  <>\n    <p>Logged in as {user.name}</p>\n    <button onClick={handleLogout}>Log Out</button>\n  </>\n  )\n}\n\nexport default LoginInfo","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport contactsService from './services/contacts';\nimport loginService from './services/login';\nimport './App.css';\nimport ContactDisplay from './components/ContactDisplay';\nimport ErrorDisplay from './components/ErrorDisplay';\nimport LoginForm from './components/LoginForm';\nimport ContactForm from './components/ContactForm';\nimport Togglable from './components/Togglable';\nimport LoginInfo from './components/LoginInfo';\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newFirstName, setNewFirstName] = useState('');\n  const [newLastName, setNewLastName] = useState('');\n  const [newPhoneNumber, setNewPhoneNumber] = useState('');\n  const [filterBy, setFilterBy] = useState('');\n  const [error, setError] = useState(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginVisible, setLoginVisible] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    contactsService.getAll()\n                   .then(persons => setPersons(persons));\n  }, []);\n\n  useEffect(() => {\n    const loggedInUserJSON = window.localStorage.getItem('loggedInContactsUser');\n    if (loggedInUserJSON) {\n      const user = JSON.parse(loggedInUserJSON);\n      setUser(user);\n      contactsService.setToken(user.token);\n    }\n  }, []);\n\n  const alreadyExists = (newPerson) => {\n    return (persons.some(person => {\n             return ( person.firstName.toLowerCase() === newPerson.firstName.toLowerCase() &&\n                      person.lastName.toLowerCase() === newPerson.lastName.toLowerCase() )\n    }));\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    let newPerson = {\n      firstName: newFirstName,\n      lastName: newLastName,\n      phoneNumber: newPhoneNumber,\n    }\n\n    if (alreadyExists(newPerson)) {\n      return alert(`\"${newFirstName} ${newLastName}\" already exists!`);\n    }\n\n    contactsService.create(newPerson)\n                   .then(person => {\n                       setPersons(persons.concat(person));\n                       setNewFirstName('');\n                       setNewLastName('');\n                       setNewPhoneNumber('');\n                   })\n                  .catch(err => {\n                    setError(err);\n                    setTimeout(setError.bind(null, null), 4000);\n                  });\n  }\n\n  const handleFirstNameInput = (event) => {\n    let newFirstName = event.target.value.trim();\n    setNewFirstName(newFirstName);\n  }\n\n  const handleLastNameInput = (event) => {\n    let newLastName = event.target.value.trim();\n    setNewLastName(newLastName);\n  }\n\n  const handlePhoneNumberInput = (event) => {\n    let newPhoneNumber = event.target.value;\n    setNewPhoneNumber(newPhoneNumber);\n  }\n\n  const handleSearchInput = (event) => {\n    let query = event.target.value;\n    setFilterBy(query);\n  }\n\n  let personsToShow = persons.filter(person => {\n    return `${person.firstName.toLowerCase()} ${person.lastName.toLowerCase()}`.includes(filterBy.toLocaleLowerCase())\n  });\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const user = await loginService.login({ username, password });\n      window.localStorage.setItem('loggedInContactsUser', JSON.stringify(user));\n\n      contactsService.setToken(user.token);\n      setUser(user);\n      setUsername('');\n      setPassword('');\n    } catch (err) {\n      setError(err);\n      setTimeout(() => {\n        setError(null)\n      }, 5000)\n    }\n  }\n\n  const handleUsernameInput = (e) => {\n    setUsername(e.target.value);\n  }\n\n  const handlePasswordInput = (e) => {\n    setPassword(e.target.value);\n  }\n\n  const handleLogout = (e) => {\n    window.localStorage.removeItem('loggedInContactsUser');\n    setUser(null);\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Contacts</h1>\n      <ErrorDisplay error={error}></ErrorDisplay>\n      {\n      user === null ? \n      <Togglable buttonLabel='Login'>\n        <LoginForm handleLogin={handleLogin} handleUsernameInput={handleUsernameInput} handlePasswordInput={handlePasswordInput} username={username} password={password} loginVisible={loginVisible} setLoginVisible={setLoginVisible}></LoginForm>\n      </Togglable>  : \n      <>\n        <LoginInfo user={user} handleLogout={handleLogout}></LoginInfo>\n        <ContactForm handleSubmit={handleSubmit} handleFirstNameInput={handleFirstNameInput} handleLastNameInput={handleLastNameInput} handlePhoneNumberInput={handlePhoneNumberInput} newFirstName={newFirstName} newLastName={newLastName} newPhoneNumber={newPhoneNumber}></ContactForm>\n        <div>\n        Search: <input id='searchBar' type='text' onChange={handleSearchInput} value={filterBy}></input>\n        </div>\n        <ContactDisplay allPersons={persons} personsToShow={personsToShow} setPersons={setPersons} error={error} setError={setError}></ContactDisplay>\n      </>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}