{"version":3,"sources":["services/contacts.js","services/login.js","components/Contact.js","components/ContactDisplay.js","components/ErrorDisplay.js","components/LoginForm.js","components/ContactForm.js","components/Togglable.js","components/LoginInfo.js","components/Search.js","App.js","reportWebVitals.js","index.js"],"names":["baseURL","token","contacts","getAll","axios","get","then","res","data","create","newContact","config","headers","Authorization","post","update","id","put","concat","remove","delete","setToken","newToken","services_login","login","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","response","wrap","_context","prev","next","sent","abrupt","stop","_x","apply","this","arguments","Contact","person","setPersons","allPersons","setError","react_default","a","createElement","className","firstName","lastName","phoneNumber","onClick","e","window","confirm","contactsService","filter","p","catch","err","setTimeout","bind","ContactDisplay","personsToShow","children","map","components_Contact","key","ErrorDisplay","error","style","color","name","message","LoginForm","handleLogin","handleUsernameInput","handlePasswordInput","username","password","Fragment","onSubmit","type","value","onChange","ContactForm","handleSubmit","handleFirstNameInput","handleLastNameInput","handlePhoneNumberInput","newFirstName","newLastName","newPhoneNumber","Togglable","buttonLabel","_useState","useState","_useState2","slicedToArray","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","LoginInfo","user","handleLogout","Search","handleSearchInput","App","persons","_useState3","_useState4","setNewFirstName","_useState5","_useState6","setNewLastName","_useState7","_useState8","setNewPhoneNumber","_useState9","_useState10","filterBy","setFilterBy","_useState11","_useState12","_useState13","_useState14","setUsername","_useState15","_useState16","setPassword","_useState17","_useState18","loginVisible","setLoginVisible","_useState19","_useState20","setUser","useEffect","loggedInUserJSON","localStorage","getItem","JSON","parse","toLowerCase","includes","toLocaleLowerCase","App_regeneratorRuntime","_user2","preventDefault","loginService","setItem","stringify","t0","components_ErrorDisplay","components_Togglable","components_LoginForm","target","components_LoginInfo","removeItem","components_ContactForm","event","newPerson","some","alreadyExists","alert","trim","components_ContactDisplay","components_Search","query","reportWebVitals","onPerfEntry","Function","__webpack_require__","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.bcc3f3db.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseURL = '/api/contacts';\n\nlet token = null;\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n}\n\nconst getAll = () => {\n  return axios.get(baseURL)\n              .then(res => res.data);\n}\n\nconst create = (newContact) => {\n  const config = { \n    headers: { Authorization: token }\n  }\n\n  return axios.post(baseURL, newContact, config)\n              .then(res => res.data);\n}\n\nconst update = (id, newContact) => {\n  return axios.put(`${baseURL}/${id}`, newContact)\n              .then(res => res.data);\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseURL}/${id}`)\n              .then(res => res.data);\n}\n\nexport default { getAll, create, update, remove, setToken };","import axios from 'axios';\nconst baseUrl = '/api/login';\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n}\n\nexport default { login }","import React from 'react';\nimport contactsService from '../services/contacts'\n\nconst Contact = ({ person, setPersons, allPersons, setError }) => {\n  const deleteHandler = (e) => {\n    if (!window.confirm(`Are you sure you want to delete ${person.firstName} ${person.lastName} from your contacts?`)) return;\n    contactsService.remove(person.id)\n                   .then(() => {\n                    setPersons(allPersons.filter(p => p.id !== person.id));\n                   })\n                   .catch(err => {\n                    setError(err);\n                    setTimeout(setError.bind(null, null), 4000);\n                  });\n  }\n\n  const updateHandler = (e) => {\n    \n  }\n\n  return (\n    <div className='contact'>\n      <h3>{person.firstName}{'\\u00a0'}{person.lastName}: {person.phoneNumber}</h3>\n      <button onClick={deleteHandler}>Delete</button>\n      <button onClick={updateHandler}>Update</button>\n    </div>\n  );\n}\n\nexport default Contact","import React from 'react';\nimport Contact from './Contact.js';\n\nconst ContactDisplay = ({ personsToShow, allPersons, setPersons, setError, children }) => {\n  return (\n    <div className='contact_display'>\n      <h2>List:</h2>\n      {children}\n      {personsToShow.map(person => \n        <Contact key={person.firstName} person={person} setPersons={setPersons} allPersons={allPersons} setError={setError}></Contact>\n      )}\n    </div>\n  );\n}\n\nexport default ContactDisplay","import React from 'react';\n\nconst ErrorDisplay = ({ error }) => {\n  if (error === null) return;\n\n  return (\n    <p style={{ color: 'red' }}>{`${error.name}: ${error.message}`}</p>\n  )\n}\n\nexport default ErrorDisplay;","import React from 'react';\n\nconst LoginForm = ({ handleLogin, handleUsernameInput, handlePasswordInput, username, password }) => {\n  return (\n    <>\n      <form onSubmit={handleLogin}>\n        <div>\n          Username\n          <input type='text' value={username} name='Username' onChange={handleUsernameInput} />\n        </div>\n        <div>\n          Password\n          <input type='text' value={password} name='Password' onChange={handlePasswordInput} />\n        </div>\n        <button type='submit'>Submit</button>\n      </form>\n    </>\n  )\n}\n\nexport default LoginForm;","import React from 'react';\n\nconst ContactForm = ({ handleSubmit, handleFirstNameInput, handleLastNameInput, handlePhoneNumberInput, newFirstName, newLastName, newPhoneNumber }) => {\n  return (\n    <p>\n      <h2>New Contact</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          First Name: <input id='firstNameInput' type='text' onChange={handleFirstNameInput} value={newFirstName}/>\n        </div>\n        <div>\n          Last Name: <input id='lastNameInput' type='text' onChange={handleLastNameInput} value={newLastName}/>\n        </div>\n        <div>\n          Phone Number: <input id='phoneNumberInput' type='text' onChange={handlePhoneNumberInput} value={newPhoneNumber}/>\n        </div>\n        <div>\n          <button type='submit'>Submit</button>\n        </div>\n      </form>\n    </p>\n  )\n}\n\nexport default ContactForm","import React from 'react';\nimport { useState } from 'react';\n\nconst Togglable = ({ buttonLabel, children }) => {\n  const [visible, setVisible] = useState(false);\n\n  const hideWhenVisible = { display: visible ? 'none' : '' };\n  const showWhenVisible = { display: visible ? '' : 'none' };\n\n  const toggleVisibility = () => {\n    setVisible(!visible);\n  }\n\n  return (\n  <>\n    <div style={hideWhenVisible}>\n      <button onClick={toggleVisibility}>{buttonLabel}</button>\n    </div>\n    <div style={showWhenVisible}>\n      {children}\n      <button onClick={toggleVisibility}>Cancel</button>\n    </div>\n  </>\n  )\n}\n\nexport default Togglable","import React from 'react';\n\nconst LoginInfo = ({ user, handleLogout }) => {\n  return (\n  <p>\n    <p>Logged in as {user.name}</p>\n    <button onClick={handleLogout}>Log Out</button>\n  </p>\n  )\n}\n\nexport default LoginInfo","import React from 'react';\n\nconst Search = ({ handleSearchInput, value }) => {\n  return (\n    <div>\n      Search: <input type='text' onChange={handleSearchInput} value={value}></input>\n    </div>\n  )\n}\n\nexport default Search","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport contactsService from './services/contacts';\nimport loginService from './services/login';\nimport './App.css';\nimport ContactDisplay from './components/ContactDisplay';\nimport ErrorDisplay from './components/ErrorDisplay';\nimport LoginForm from './components/LoginForm';\nimport ContactForm from './components/ContactForm';\nimport Togglable from './components/Togglable';\nimport LoginInfo from './components/LoginInfo';\nimport Search from './components/Search';\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newFirstName, setNewFirstName] = useState('');\n  const [newLastName, setNewLastName] = useState('');\n  const [newPhoneNumber, setNewPhoneNumber] = useState('');\n  const [filterBy, setFilterBy] = useState('');\n  const [error, setError] = useState(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginVisible, setLoginVisible] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    contactsService.getAll()\n                   .then(persons => setPersons(persons));\n  }, []);\n\n  useEffect(() => {\n    const loggedInUserJSON = window.localStorage.getItem('loggedInContactsUser');\n    if (loggedInUserJSON) {\n      const user = JSON.parse(loggedInUserJSON);\n      setUser(user);\n      contactsService.setToken(user.token);\n    }\n  }, []);\n\n  const alreadyExists = (newPerson) => {\n    return (persons.some(person => {\n             return ( person.firstName.toLowerCase() === newPerson.firstName.toLowerCase() &&\n                      person.lastName.toLowerCase() === newPerson.lastName.toLowerCase() )\n    }));\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    let newPerson = {\n      firstName: newFirstName,\n      lastName: newLastName,\n      phoneNumber: newPhoneNumber,\n    }\n\n    if (alreadyExists(newPerson)) {\n      return alert(`\"${newFirstName} ${newLastName}\" already exists!`);\n    }\n\n    contactsService.create(newPerson)\n                   .then(person => {\n                       setPersons(persons.concat(person));\n                       setNewFirstName('');\n                       setNewLastName('');\n                       setNewPhoneNumber('');\n                   })\n                  .catch(err => {\n                    setError(err);\n                    setTimeout(setError.bind(null, null), 4000);\n                  });\n  }\n\n  const handleFirstNameInput = (event) => {\n    let newFirstName = event.target.value.trim();\n    setNewFirstName(newFirstName);\n  }\n\n  const handleLastNameInput = (event) => {\n    let newLastName = event.target.value.trim();\n    setNewLastName(newLastName);\n  }\n\n  const handlePhoneNumberInput = (event) => {\n    let newPhoneNumber = event.target.value;\n    setNewPhoneNumber(newPhoneNumber);\n  }\n\n  const handleSearchInput = (event) => {\n    let query = event.target.value;\n    setFilterBy(query);\n  }\n\n  let personsToShow = persons.filter(person => {\n    return `${person.firstName.toLowerCase()} ${person.lastName.toLowerCase()}`.includes(filterBy.toLocaleLowerCase())\n  });\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const user = await loginService.login({ username, password });\n      window.localStorage.setItem('loggedInContactsUser', JSON.stringify(user));\n\n      contactsService.setToken(user.token);\n      setUser(user);\n      setUsername('');\n      setPassword('');\n    } catch (err) {\n      setError(err);\n      setTimeout(() => {\n        setError(null)\n      }, 5000)\n    }\n  }\n\n  const handleUsernameInput = (e) => {\n    setUsername(e.target.value);\n  }\n\n  const handlePasswordInput = (e) => {\n    setPassword(e.target.value);\n  }\n\n  const handleLogout = (e) => {\n    window.localStorage.removeItem('loggedInContactsUser');\n    setUser(null);\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Contacts</h1>\n      <ErrorDisplay error={error}></ErrorDisplay>\n      {\n      user === null ? \n      <Togglable buttonLabel='Login'>\n        <LoginForm handleLogin={handleLogin} handleUsernameInput={handleUsernameInput} handlePasswordInput={handlePasswordInput} username={username} password={password} loginVisible={loginVisible} setLoginVisible={setLoginVisible}></LoginForm>\n      </Togglable>  : \n      <>\n        <LoginInfo user={user} handleLogout={handleLogout}></LoginInfo>\n        <Togglable buttonLabel='Add Contact'>\n          <ContactForm handleSubmit={handleSubmit} handleFirstNameInput={handleFirstNameInput} handleLastNameInput={handleLastNameInput} handlePhoneNumberInput={handlePhoneNumberInput} newFirstName={newFirstName} newLastName={newLastName} newPhoneNumber={newPhoneNumber}></ContactForm>\n        </Togglable>\n        <ContactDisplay allPersons={persons} personsToShow={personsToShow} setPersons={setPersons} error={error} setError={setError}>\n          <Search handleSearchInput={handleSearchInput} value={filterBy}></Search>\n        </ContactDisplay>\n      </>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}